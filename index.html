<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proposal Pro — Streamlined Edition</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <style>
    /* ─── Design Tokens ─────────────────────────────────────────────── */
    :root{
      --bg: #fff;
      --fg: #000;
      --fg‑muted:#555;
      --border:#e5e5e5;
      --accent:#111;
    }
    [data-theme="dark"]{
      --bg:#000;--fg:#fff;--fg‑muted:#aaa;--border:#333;--accent:#fff;
    }

    /* ─── Reset / Base ─────────────────────────────────────────────── */
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Open Sans',system-ui,sans-serif;line-height:1.6;
      background:var(--bg);color:var(--fg);
    }
    a{color:var(--fg);text-decoration:underline}

    /* ─── Toolbar ──────────────────────────────────────────────────── */
    .toolbar{
      position:sticky;top:0;z-index:100;
      display:flex;align-items:center;gap:.5rem;
      padding:.75rem 1rem;backdrop-filter:saturate(150%) blur(4px);
      background:color-mix(in srgb,var(--bg) 90%,transparent);
      border-bottom:1px solid var(--border);
    }
    .toolbar select,.toolbar input[type="text"],.toolbar button{
      font:600 .85rem/1 'Open Sans',sans-serif;appearance:none;
      border:1px solid var(--border);background:var(--bg);
      color:var(--fg);padding:.4rem .6rem;border-radius:6px;cursor:pointer;
    }
    .toolbar button{display:flex;align-items:center;justify-content:center;gap:.25rem;width:2rem;height:2rem;padding:0;background:none;border:none}
    .toolbar button:hover{background:var(--accent);color:var(--bg)}
    .toolbar .divider{width:1px;height:2rem;background:var(--border)}

    /* ─── Editor ───────────────────────────────────────────────────── */
    #editor{
      min-height:calc(100vh - 64px);
      padding:2.5rem 1.5rem;outline:none;
      max-width:820px;margin-inline:auto;
    }
    #editor:focus{outline:none}
    #editor h1{font-size:2rem;font-weight:800;margin:0 0 1.25rem;border-bottom:2px solid var(--accent);padding-bottom:.75rem}
    #editor h2{font-size:1.4rem;font-weight:700;margin:2.5rem 0 1rem}
    #editor p{margin:1rem 0}
    #editor ul,#editor ol{padding-left:1.25rem;margin:1rem 0}
    #editor blockquote{border-left:4px solid var(--accent);padding:1rem 1.25rem;background:color-mix(in srgb,var(--bg) 90%,var(--accent) 10%);margin:1.25rem 0;}

    /* ─── Utilities ───────────────────────────────────────────────── */
    .hidden{display:none}
  </style>
</head>
<body>
  <!-- ════════════ TOOLBAR ════════════ -->
  <nav class="toolbar" id="toolbar">
    <!-- Template selector -->
    <select id="template-select" title="Insert template" onchange="loadTemplate(this.value)">
      <option selected disabled>Insert template…</option>
      <option value="client">Client Proposal</option>
      <option value="business">Business</option>
      <option value="project">Project</option>
      <option value="service">Service</option>
      <option value="blank">Blank</option>
    </select>

    <div class="divider"></div>

    <!-- Formatting -->
    <button onclick="cmd('bold')" title="Bold (Ctrl+B)"><i data-lucide="bold"></i></button>
    <button onclick="cmd('italic')" title="Italic (Ctrl+I)"><i data-lucide="italic"></i></button>
    <button onclick="cmd('underline')" title="Underline (Ctrl+U)"><i data-lucide="underline"></i></button>
    <button onclick="cmd('insertUnorderedList')" title="Bulleted list"><i data-lucide="list"></i></button>
    <button onclick="cmd('insertOrderedList')" title="Numbered list"><i data-lucide="list-ordered"></i></button>
    <button onclick="cmd('justifyLeft')" title="Align left"><i data-lucide="align-left"></i></button>
    <button onclick="cmd('justifyCenter')" title="Align center"><i data-lucide="align-center"></i></button>
    <button onclick="cmd('justifyRight')" title="Align right"><i data-lucide="align-right"></i></button>

    <div class="divider"></div>

    <!-- Theme toggle -->
    <button onclick="toggleTheme()" title="Toggle dark / light"><i data-lucide="sun"></i></button>
  </nav>

  <!-- ════════════ EDITOR ════════════ -->
  <div id="editor" contenteditable="true" spellcheck="true"></div>

  <script>
    /* ─── Icon init ─── */
    lucide.createIcons();

    /* ─── Templates ─── */
    const templates={
      client:`<h1>Project Proposal</h1>
<h2>About the Client</h2>
<p>Describe the client, their business and objectives.</p>
<h2>About Me</h2>
<p>Introduce yourself, your skills and relevant experience.</p>
<h2>About the Project – Understanding</h2>
<p>Summarise your understanding of the project goals, constraints and desired outcomes.</p>
<h2>Value Proposition</h2>
<p>Explain the unique value you will deliver and why you are the best choice.</p>
<h2>Reference Example</h2>
<p>Provide links or screenshots of similar work you have successfully completed.</p>
<h2>Next Steps & Payment</h2>
<p>Please review the proposal. When ready, proceed via the payment link below:</p>
<p><a href="https://payment-provider.com/your-link" target="_blank">Pay Now</a></p>`,
      business:`<h1>Business Proposal</h1>\n\n<h2>Executive Summary</h2><p>...</p>`,
      project:`<h1>Project Proposal</h1>\n\n<h2>Project Overview</h2><p>...</p>`,
      service:`<h1>Service Proposal</h1>\n\n<h2>Service Overview</h2><p>...</p>`,
      blank:`<h1>Your Proposal Title</h1><p>Start writing your proposal here…</p>`
    };

    function loadTemplate(key){
      if(!templates[key])return;
      editor.innerHTML=templates[key];
      editor.focus();
    }

    /* ─── Formatting helpers ─── */
    const editor=document.getElementById('editor');
    function cmd(command,value=null){
      document.execCommand(command,false,value);editor.focus();
    }

    /* ─── Theme ─── */
    function toggleTheme(){
      const html=document.documentElement;const next=html.dataset.theme==='dark'?'light':'dark';
      html.dataset.theme=next;localStorage.setItem('pp_theme',next);
      updateThemeIcon();
    }
    function updateThemeIcon(){
      const isDark=document.documentElement.dataset.theme==='dark';
      const iconBtn=document.querySelector('button[title^="Toggle"] i');
      iconBtn.setAttribute('data-lucide',isDark?'moon':'sun');
      lucide.createIcons();
    }
    (()=>{document.documentElement.dataset.theme=localStorage.getItem('pp_theme')||'light';updateThemeIcon();})();

    /* ─── Shortcuts ─── */
    document.addEventListener('keydown',e=>{
      if(!(e.ctrlKey||e.metaKey))return;
      switch(e.key){
        case 'b':e.preventDefault();cmd('bold');break;
        case 'i':e.preventDefault();cmd('italic');break;
        case 'u':e.preventDefault();cmd('underline');break;
        case 'l':e.preventDefault();toggleTheme();break;
      }
    });

    /* ─── Initial content ─── */
    loadTemplate('client');
  </script>
</body>
</html>
