<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proposal Pro - Professional Proposal Generator</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <link rel="stylesheet" href="css/editor.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark/Light Mode (Ctrl+D)">
                <i data-lucide="sun" id="theme-icon"></i>
            </div>
            <h1>
                <i data-lucide="file-text"></i>
                Proposal Pro
            </h1>
            <div class="subtitle">A new standard for winning proposals</div>
        </header>

        <div class="main-content">
            <div class="card">
                <div class="card-header"><h2 class="card-title">Quick Start Templates</h2></div>
                <div class="card-content">
                    <div class="template-grid">
                        <button class="template-btn" onclick="loadTemplate('business')">Business</button>
                        <button class="template-btn" onclick="loadTemplate('project')">Project</button>
                        <button class="template-btn" onclick="loadTemplate('service')">Service</button>
                        <button class="template-btn" onclick="loadTemplate('consulting')">Consulting</button>
                        <button class="template-btn" onclick="loadTemplate('blank')">Blank</button>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header"><h2 class="card-title">Proposal Details</h2></div>
                <div class="card-content">
                    <div class="proposal-details">
                        <div class="detail-row">
                            <label class="detail-label" for="client-name">Client Name</label>
                            <input type="text" class="detail-input" id="client-name" placeholder="Acme Corporation">
                        </div>
                        <div class="detail-row">
                            <label class="detail-label" for="project-title">Project Title</label>
                            <input type="text" class="detail-input" id="project-title" placeholder="Website Redesign Project">
                        </div>
                        <div class="detail-row">
                            <label class="detail-label" for="total-amount">Total Amount</label>
                            <input type="text" class="detail-input" id="total-amount" placeholder="$15,000.00">
                        </div>
                        <div class="detail-row">
                            <label class="detail-label" for="payment-link">Payment Link</label>
                            <input type="url" class="detail-input" id="payment-link" placeholder="https://stripe.com/pay/...">
                        </div>
                        <div class="detail-row">
                            <label class="detail-label">Signature</label>
                            <div class="signature-area" onclick="uploadSignature()" id="signature-area" title="Click to upload signature image">
                                <div class="signature-placeholder" id="signature-placeholder">
                                    <i data-lucide="pen-tool"></i>
                                    <span>Click to upload</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header"><h2 class="card-title">Formatting Tools</h2></div>
                <div class="card-content">
                    <div class="toolbar-grid">
                        <div class="toolbar-section">
                            <div class="toolbar-label">Actions</div>
                            <div class="toolbar-row">
                                <div class="btn-group">
                                    <button class="toolbar-btn" onclick="execCommand('undo')" title="Undo"><i data-lucide="undo"></i></button>
                                    <button class="toolbar-btn" onclick="execCommand('redo')" title="Redo"><i data-lucide="redo"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="toolbar-section">
                            <div class="toolbar-label">Text Style</div>
                            <div class="toolbar-row">
                                <div class="btn-group">
                                    <button class="toolbar-btn" onclick="execCommand('bold')" title="Bold (Ctrl+B)"><i data-lucide="bold"></i></button>
                                    <button class="toolbar-btn" onclick="execCommand('italic')" title="Italic (Ctrl+I)"><i data-lucide="italic"></i></button>
                                    <button class="toolbar-btn" onclick="execCommand('underline')" title="Underline (Ctrl+U)"><i data-lucide="underline"></i></button>
                                </div>
                                <div class="btn-group">
                                    <button class="toolbar-btn" onclick="execCommand('justifyLeft')" title="Align Left"><i data-lucide="align-left"></i></button>
                                    <button class="toolbar-btn" onclick="execCommand('justifyCenter')" title="Align Center"><i data-lucide="align-center"></i></button>
                                    <button class="toolbar-btn" onclick="execCommand('justifyRight')" title="Align Right"><i data-lucide="align-right"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="toolbar-section">
                            <div class="toolbar-label">Structure</div>
                            <div class="toolbar-row">
                                <select class="toolbar-select" onchange="execCommand('formatBlock', this.value)">
                                    <option value="p">Paragraph</option>
                                    <option value="h1">Title</option>
                                    <option value="h2">Section</option>
                                    <option value="h3">Subsection</option>
                                    <option value="h4">Minor Header</option>
                                </select>
                                <div class="btn-group">
                                    <button class="toolbar-btn" onclick="execCommand('insertUnorderedList')" title="Bullet List"><i data-lucide="list"></i></button>
                                    <button class="toolbar-btn" onclick="execCommand('insertOrderedList')" title="Numbered List"><i data-lucide="list-ordered"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="toolbar-section">
                            <div class="toolbar-label">Content</div>
                            <div class="toolbar-row">
                                <div class="btn-group">
                                    <button class="toolbar-btn" onclick="insertTable()" title="Insert Table"><i data-lucide="table"></i></button>
                                    <button class="toolbar-btn" onclick="insertImage()" title="Insert Image"><i data-lucide="image"></i></button>
                                    <button class="toolbar-btn" onclick="insertQuote()" title="Insert Quote"><i data-lucide="quote"></i></button>
                                    <button class="toolbar-btn" onclick="insertPaymentButton()" title="Insert Payment Button"><i data-lucide="credit-card"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header"><h2 class="card-title">Proposal Content</h2></div>
                <div class="editor" id="editor" contenteditable="true" spellcheck="true"></div>
            </div>

            <div class="card">
                <div class="card-header"><h2 class="card-title">Finalize & Export</h2></div>
                <div class="card-content">
                    <div class="export-grid">
                        <button class="export-btn" id="export-pdf-btn" onclick="exportToPDF()"><i data-lucide="file-down"></i>PDF</button>
                        <button class="export-btn" onclick="exportToHTML()" title="Ctrl+S"><i data-lucide="code"></i>HTML</button>
                        <button class="export-btn" onclick="previewProposal()" title="Preview (Ctrl+P)"><i data-lucide="eye"></i>Preview</button>
                        <button class="export-btn" onclick="clearDocument()"><i data-lucide="trash-2"></i>Clear</button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Copyright © <span id="current-year"></span> • Designed with ❤️ by <a href="https://dee7studio.com" target="_blank"><strong>Dee7 Studio</strong></a></p>
        </footer>
    </div>

    <template id="proposal-export-template">
        <div class="export-container" style="padding: 40px; font-family: 'Open Sans', Arial, sans-serif; line-height: 1.7;">
            <div id="template-header-info"></div>
            <div id="template-main-content"></div>
            <div id="template-signature-section"></div>
        </div>
    </template>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <script src="js/pdf-export.js"></script>
    <script src="js/editor.js"></script>
</body>
</html>
